# #######################################################################################
# AUTOGENERATED HYPR CONFIG.
# PLEASE USE THE CONFIG PROVIDED IN THE GIT REPO /examples/hypr.conf AND EDIT IT,
# OR EDIT THIS ONE ACCORDING TO THE WIKI INSTRUCTIONS.
# #######################################################################################

autogenerated = 0 # remove this line to remove the warning

#####################################################################################################

# ENVIRONMENT VARIABLES

env = AMD_VULKAN_ICD,RADV
env = DXVK_ASYNC,1
env = GTK_THEME=Adwaita-dark
env = HYPRCURSOR_SIZE,28
env = MESA_DEBUG,silent
env = SDL_VIDEODRIVER,wayland,x11
env = vblank_mode,1
env = VK_ICD_FILENAMES,/usr/share/vulkan/icd.d/radeon_icd.x86_64.json
env = WINEFSYNC,1
env = XDG_CURRENT_DESKTOP, Hyprland
env = XDG_SESSION_TYPE, wayland
env = XDG_SESSION_DESKTOP, Hyprland
env = XCURSOR_SIZE,28

#####################################################################################################

# AUTOSTART

# Autostart necessary processes (like notifications daemons, status bars, etc.)
# Or execute your favorite apps at launch like this:

exec-once = hyprctl setcursor Adwaita 28 > "/dev/null" 2>&1
exec-once = hyprpaper > "/dev/null" 2>&1
exec-once = taskset -c 0-7,16-23 waybar > "/dev/null" 2>&1
exec-once = gentoo-pipewire-launcher > "/dev/null" 2>&1
exec-once = dbus-update-activation-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP

#####################################################################################################

# PLUGINS

plugin { 
	csgo-vulkan-fix { 
		res_w = 1440 
		res_h = 1080 

		class = cs2 

		fix_mouse = true 
	} 
}

#####################################################################################################

# MY PROGRAMS

# See https://wiki.hyprland.org/Configuring/Keywords/

$terminal = alacritty
$terminaltmux = alacritty "-e" "tmux" "new-session"
$rootterminal = alacritty "-e" "su" "-" "-c" "tmux new-session"
$rootterminalnotmux = alacritty "-e" "su" "-"
$filemanager = alacritty -e "tmux" "new-session" "nnn" "-d" "-e" "-A" "-H"
$browserincognito = browserincognito
$browser = browser
$launcher = tofi-run | xargs hyprctl dispatch exec --
$htop = alacritty -e "htop"
$upvol = pactl set-sink-volume "0" "+1%"
$downvol = pactl set-sink-volume "0" "-1%"
$mutevol = pactl set-sink-volume "0" "25%" && pactl set-sink-mute "0" "toggle" && pactl set-source-mute "0" "1"
$mutemic = pactl set-source-mute "0" "1" && pw-play "$HOME/snd/sys/mutemic.wav"
$unmutemic = pactl set-source-mute "0" "0" && pw-play "$HOME/snd/sys/unmutemic.wav"
$voip = voip
$voipscreenshare = voipscreenshare
$music = music

#####################################################################################################

# MONITORS

# bitdepth needs to be 8bpp to screen share using discord or vesktop
monitor=DP-1, 3440x1440@160.00, 0x0, 1, vrr, 1, bitdepth, 8
monitor=HDMI-A-1, 1920x1080@60.00, 755x-1080, 1, cm, srgb, vrr, 0, bitdepth, 8

#----------------------------------------------------------------------------------------------------

render {
	direct_scanout = true
}

#####################################################################################################

# LOOK AND FEEL

general { 
	gaps_in = 10
	gaps_out = 20
	border_size = 2
	col.active_border = rgba(ff0000ff)
	col.inactive_border = rgba(000000ff)
	allow_tearing = true
	layout = master
}

#----------------------------------------------------------------------------------------------------

decoration {
	rounding = 0
#	active_opacity = 1.0 # change transparency of focused and unfocused windows, not needed by default
	blur {
		enabled = false
		size = 3
		passes = 1
		vibrancy = 0.1696
	}
}

animations {
	enabled = true
	bezier = linear, 0, 0, 1, 1
	animation = windows, 1, 1, linear
	animation = border, 1, 10, default
	animation = fade, 1, 3, default
	animation = workspaces, 1, 2, linear
}

#----------------------------------------------------------------------------------------------------

dwindle {
	pseudotile = true # Master switch for pseudotiling. Enabling is bound to mainMod + P in the keybinds section below
	preserve_split = true # You probably want this
}

master {
	mfact = 0.50
	new_on_top = true
}

#####################################################################################################

# WINDOWS AND WORKSPACES

# Assignments to workspaces
workspace = 1, monitor:DP-1, default:true
workspace = 2, monitor:DP-1,
workspace = 3, monitor:DP-1,
workspace = 4, monitor:DP-1,

# uncomment when only using one monitor
#workspace = 5, monitor:DP-1,
#workspace = 6, monitor:DP-1,
#workspace = 7, monitor:DP-1,
#workspace = 8, monitor:DP-1,
#workspace = 9, monitor:DP-1,
#workspace = 10, monitor:DP-1,

# when using 2 monitors
workspace = 5, monitor:HDMI-A-1, default:true
workspace = 6, monitor:HDMI-A-1
workspace = 7, monitor:HDMI-A-1
workspace = 8, monitor:HDMI-A-1
workspace = 9, monitor:HDMI-A-1
workspace = 10, monitor:HDMI-A-1

#----------------------------------------------------------------------------------------------------

# disable border on workspaces with only one window
#windowrulev2 = noborder, onworkspace:w[t1]

# per window border colors
#windowrulev2 = bordercolor rgba(000000ff) rgba(000000ff),class:^(google-chrome)$
#windowrulev2 = bordercolor rgba(00ff00ff) rgba(000000ff),class:^(vesktop)$

# disable vsync for these programs
windowrulev2 = immediate, class:^(cs2)$
windowrulev2 = immediate, class:^(ironwail)$
windowrulev2 = immediate, class:^(Minecraft)(.*)$
windowrulev2 = immediate, class:^(quake3e.x64)$
windowrulev2 = immediate, class:^(Snes9x-gtk)$
windowrulev2 = immediate, class:^(sm64coopdx)$
windowrulev2 = immediate, class:^(steam_app_)(.*)$
windowrulev2 = immediate, class:^(steam_proton)$ # comment this out for skyrim

# lower opacity on these programs when out of focus
#windowrulev2 = opacity 1 .5, class:^(Alacritty)$

# assign programs to workspaces
windowrulev2 = workspace 2, class:^(cs2)$
windowrulev2 = workspace 2, class:^(ironwail)$
windowrulev2 = workspace 2, class:^(Minecraft)(.*)$
windowrulev2 = workspace 2, class:^(steam_app_)(.*)$
#windowrulev2 = workspace 2, class:^(steam_proton)$
windowrulev2 = workspace 3, class:^(discord)$
windowrulev2 = workspace 3, class:^(vesktop)$
#windowrulev2 = workspace 5, class:^(steam)
#windowrulev2 = workspace 4, class:^(Google-chrome)$

# disable maximize event feature from non tiling desktops
windowrulev2 = suppressevent maximize, class:.* # You'll probably like this.

# for dolphin
windowrulev2=suppressevent activate,xwayland:1

# for mixer
windowrulev2=float, class:^(mixer)$
windowrulev2=size 1280 600, class:^(mixer)$
windowrulev2=move 1080 34, class:^(mixer)$

#####################################################################################################

# INPUT

input {
	kb_layout = us
	repeat_delay = 350
	repeat_rate = 35
	follow_mouse = 1 # make mouse focus window when just hovering
	sensitivity = 0 # -1.0 - 1.0, 0 means no modification.
	accel_profile = flat # no mouse accel
}

cursor {
	inactive_timeout = 5
	no_hardware_cursors = true # change this if cursor bugs out, should use a tiny amount of cpu
}

#----------------------------------------------------------------------------------------------------

# KEYBINDINGS

binds {
	allow_workspace_cycles = yes # workspaces don't forget their previous cycles. this allows tabbing back and forth between workspaces.
}

$mainMod = ALT
bind = $mainMod CTRL, RETURN, exec, $terminal
bind = $mainMod, RETURN, exec, $terminaltmux
bind = $mainMod SHIFT, RETURN, exec, $rootterminal
bind = $mainMod CTRL SHIFT, RETURN, exec, $rootterminalnotmux
bind = $mainMod, BRACKETRIGHT, exec, $htop
bind = $mainMod CTRL SHIFT, W, exec, $browser
bind = $mainMod SHIFT, W, exec, $browserincognito
bind = $mainMod SHIFT, E, exec, $voip
bind = $mainMod CTRL SHIFT, E, exec, $voipscreenshare
bind = $mainMod, P, exec, $launcher
bind = $mainMod, Q, killactive, 
bind = $mainMod SHIFT, ESCAPE, exit, 
bind = $mainMod, D, exec, $filemanager
bind = $mainMod, V, togglefloating, 
bind = $mainMod, BRACKETLEFT, exec, mixer
bind = $mainMod, S, exec, $music

# audio stuff
binde = $mainMod, EQUAL, exec, $upvol
binde = $mainMod, MINUS, exec, $downvol
bind = , XF86AUDIORAISEVOLUME, exec, $upvol
bind = , XF86AUDIOLOWERVOLUME, exec, $downvol
bind = , XF86AUDIOMUTE, exec, $mutevol
bind = $mainMod, BACKSPACE, exec, $mutemic
bind = $mainMod SHIFT, BACKSPACE, exec, $unmutemic

# move focus with mainMod + arrow keys
bind = $mainMod, H, movefocus, l
bind = $mainMod, L, movefocus, r
bind = $mainMod, J, movefocus, d
bind = $mainMod, K, movefocus, u

# move focus between monitors
bind = $mainMod, PERIOD, focusmonitor, DP-1
bind = $mainMod, COMMA, focusmonitor, HDMI-A-1

# specific per window binds
bind = $mainMod, F, fullscreenstate, 2
bind = $mainMod SHIFT, F, fullscreenstate, 3
bind = $mainMod, M, fullscreen, 1
bind = $mainMod, N, fullscreen, 1
bind = $mainMod, Z, layoutmsg,swapwithmaster
bind = $mainMod, C, layoutmsg,addmaster
bind = $mainMod, X, layoutmsg,removemaster
bind = $mainMod, Y, layoutmsg,orientationcenter
bind = $mainMod, U, layoutmsg,orientationleft
bind = $mainMod SHIFT, H, movewindow, l
bind = $mainMod SHIFT, L, movewindow, r
bind = $mainMod SHIFT, K, movewindow, u
bind = $mainMod SHIFT, J, movewindow, d
bind = $mainMod SHIFT, COMMA, movewindow, mon:1
bind = $mainMod SHIFT, PERIOD, movewindow, mon:0
binde = $mainMod CTRL, H, resizeactive, -75 0
binde = $mainMod CTRL, L, resizeactive, 75 0
binde = $mainMod CTRL, K, resizeactive, 0 -75
binde = $mainMod CTRL, J, resizeactive, 0 75
binde = $mainMod CTRL SHIFT, H, moveactive, -100 0
binde = $mainMod CTRL SHIFT, L, moveactive, 100 0
binde = $mainMod CTRL SHIFT, K, moveactive, 0 -100
binde = $mainMod CTRL SHIFT, J, moveactive, 0 100
binde = $mainMod SHIFT, H, moveactive, l
binde = $mainMod SHIFT, L, moveactive, r
binde = $mainMod SHIFT, K, moveactive, u
binde = $mainMod SHIFT, J, moveactive, d

# move and resize with keyboard
binde = $mainMod CTRL SHIFT, L, splitratio, +.01
binde = $mainMod CTRL SHIFT, H, splitratio, -.01
# move and resize with mouse
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

# Switch workspaces with mainMod + [0-9]
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

# switch workspace to previous
bind = $mainMod, TAB, workspace, previous

# Move active window to a workspace with mainMod + SHIFT + [0-9]
bind = $mainMod SHIFT, 1, movetoworkspacesilent, 1
bind = $mainMod SHIFT, 2, movetoworkspacesilent, 2
bind = $mainMod SHIFT, 3, movetoworkspacesilent, 3
bind = $mainMod SHIFT, 4, movetoworkspacesilent, 4
bind = $mainMod SHIFT, 5, movetoworkspacesilent, 5
bind = $mainMod SHIFT, 6, movetoworkspacesilent, 6
bind = $mainMod SHIFT, 7, movetoworkspacesilent, 7
bind = $mainMod SHIFT, 8, movetoworkspacesilent, 8
bind = $mainMod SHIFT, 9, movetoworkspacesilent, 9
bind = $mainMod SHIFT, 0, movetoworkspacesilent, 10

# special workspace (scratchpad)
bind = $mainMod, BACKSLASH, togglespecialworkspace, magic
bind = $mainMod SHIFT, BACKSLASH, movetoworkspace, special:magic

#----------------------------------------------------------------------------------------------------

# MISC

misc { 
	force_default_wallpaper = 0 # Set to 0 or 1 to disable the anime mascot wallpapers
	disable_hyprland_logo = true # If true disables the random hyprland logo / anime girl background. :(
	disable_hyprland_qtutils_check = true # If true disables the qtutils check
	vfr = false
	vrr = true
}

#####################################################################################################
